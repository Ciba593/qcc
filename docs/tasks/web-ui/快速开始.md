# QCC Web UI - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ å¯åŠ¨ Web UI

### æ–¹æ³• 1: ä½¿ç”¨ uvx é›¶å®‰è£…è¿è¡Œ (æ¨è)

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/yxhpy/Desktop/project/qcc

# ä¸€é”®å¯åŠ¨ (è‡ªåŠ¨å®‰è£…æ‰€æœ‰ä¾èµ–å¹¶æ‰“å¼€æµè§ˆå™¨)
uvx -n --from . qcc web start

# æˆ–è€…ä¸ä½¿ç”¨ -n æ ‡å¿— (ä½¿ç”¨ç¼“å­˜ï¼Œæ›´å¿«)
uvx --from . qcc web start
```

### æ–¹æ³• 2: å®‰è£…åä½¿ç”¨

```bash
# å®‰è£… qcc (åŒ…å«æ‰€æœ‰ä¾èµ–)
pip install -e .

# å¯åŠ¨ Web UI
qcc web start
```

### æ–¹æ³• 3: ä½¿ç”¨å®‰è£…è„šæœ¬

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
./setup-web.sh

# å¯åŠ¨ Web UI
qcc web start
```

---

## ğŸ“‹ è®¿é—®åœ°å€

å¯åŠ¨å,æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ä»¥ä¸‹åœ°å€:

- **Web UI ä¸»é¡µ**: http://127.0.0.1:8080
- **API æ–‡æ¡£**: http://127.0.0.1:8080/api/docs
- **ReDoc æ–‡æ¡£**: http://127.0.0.1:8080/api/redoc

---

## âš™ï¸ å¯åŠ¨é€‰é¡¹

```bash
# è‡ªå®šä¹‰ç«¯å£
qcc web start --port 3000

# å¼€å‘æ¨¡å¼ (å¯ç”¨çƒ­é‡è½½)
qcc web start --dev

# ä¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
qcc web start --no-browser

# è‡ªå®šä¹‰ç›‘å¬åœ°å€
qcc web start --host 0.0.0.0 --port 8080
```

---

## ğŸ“Š åŠŸèƒ½åˆ—è¡¨

### âœ… å·²å®ç°åŠŸèƒ½

1. **ä»ªè¡¨ç›˜**
   - ç³»ç»Ÿæ¦‚è§ˆ
   - é…ç½®ç»Ÿè®¡
   - ä»£ç†æœåŠ¡çŠ¶æ€
   - Endpoint å¥åº·åˆ†å¸ƒ

2. **é…ç½®ç®¡ç†**
   - æŸ¥çœ‹æ‰€æœ‰é…ç½®
   - ä½¿ç”¨é…ç½®
   - åˆ é™¤é…ç½®
   - æŸ¥çœ‹é…ç½®è¯¦æƒ…

3. **Endpoint ç®¡ç†**
   - æŸ¥çœ‹æ‰€æœ‰ endpoint
   - åˆ›å»º endpoint
   - åˆ é™¤ endpoint
   - æŒ‰é…ç½®ç­›é€‰

4. **ä»£ç†æœåŠ¡**
   - æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
   - åœæ­¢ä»£ç†æœåŠ¡
   - å®æ—¶çŠ¶æ€åˆ·æ–°

### ğŸ”„ å¼€å‘ä¸­åŠŸèƒ½

- å¯åŠ¨ä»£ç†æœåŠ¡
- æ—¥å¿—æŸ¥çœ‹
- ä¼˜å…ˆçº§ç®¡ç†
- å¥åº·ç›‘æ§
- å¤±è´¥é˜Ÿåˆ—ç®¡ç†

---

## ğŸ› ï¸ å¼€å‘æ¨¡å¼

### æ–¹æ³• 1: åŒæ—¶è¿è¡Œå‰åç«¯å¼€å‘æœåŠ¡å™¨ (æ¨è)

**ç»ˆç«¯ 1 - åç«¯çƒ­é‡è½½**:
```bash
# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨ï¼Œè‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–
qcc web start --dev --no-browser

# æˆ–ä½¿ç”¨ uvx
uvx --from . qcc web start --dev --no-browser

# åç«¯æœåŠ¡: http://127.0.0.1:8080
# ä¿®æ”¹ fastcc/web/ ä¸‹çš„ä»»ä½• Python æ–‡ä»¶ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨é‡å¯
```

**ç»ˆç«¯ 2 - å‰ç«¯çƒ­é‡è½½**:
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd qcc-web

# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm install

# å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨
npm run dev

# å‰ç«¯æœåŠ¡: http://localhost:5173
# ä¿®æ”¹ src/ ä¸‹çš„ä»»ä½•æ–‡ä»¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°
```

**è®¿é—®**: æ‰“å¼€ http://localhost:5173 ä½¿ç”¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆåŒ…å«çƒ­æ¨¡å—æ›¿æ¢ HMRï¼‰

### æ–¹æ³• 2: ä»…åç«¯å¼€å‘ï¼ˆä½¿ç”¨å·²æ„å»ºçš„å‰ç«¯ï¼‰

```bash
# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨ (å¸¦çƒ­é‡è½½)
qcc web start --dev

# æˆ–ä½¿ç”¨ uvx
uvx --from . qcc web start --dev

# è®¿é—® http://127.0.0.1:8080
# åç«¯ API ä¿®æ”¹ä¼šè‡ªåŠ¨é‡è½½ï¼Œä½†å‰ç«¯éœ€è¦æ‰‹åŠ¨é‡æ–°æ„å»º
```

### æ–¹æ³• 3: ä»…å‰ç«¯å¼€å‘ï¼ˆä½¿ç”¨ç‹¬ç«‹çš„åç«¯æœåŠ¡ï¼‰

```bash
# é¦–å…ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨åç«¯
qcc web start --no-browser

# ç„¶åå¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd qcc-web
npm run dev

# å‰ç«¯æœåŠ¡: http://localhost:5173
# ä¼šè‡ªåŠ¨ä»£ç† API è¯·æ±‚åˆ° http://127.0.0.1:8080
```

### å‰ç«¯ç‹¬ç«‹æ“ä½œ

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd qcc-web

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ ¼å¼åŒ–
npm run lint
```

---

## ğŸ“¦ éƒ¨ç½²æµç¨‹

### 1. æ„å»ºå‰ç«¯

```bash
cd qcc-web
npm run build
```

### 2. å¤åˆ¶åˆ°åç«¯é™æ€ç›®å½•

```bash
cp -r qcc-web/dist/* fastcc/web/static/
```

### 3. å¯åŠ¨æœåŠ¡

```bash
qcc web start
```

---

## ğŸ” API æµ‹è¯•

### ä½¿ç”¨ Swagger UI

è®¿é—® http://127.0.0.1:8080/api/docs å³å¯åœ¨çº¿æµ‹è¯•æ‰€æœ‰ API

### ä½¿ç”¨ curl

```bash
# è·å–ä»ªè¡¨ç›˜æ¦‚è§ˆ
curl http://127.0.0.1:8080/api/dashboard/summary

# è·å–æ‰€æœ‰é…ç½®
curl http://127.0.0.1:8080/api/configs

# è·å–ä»£ç†çŠ¶æ€
curl http://127.0.0.1:8080/api/proxy/status

# åˆ›å»ºé…ç½®
curl -X POST http://127.0.0.1:8080/api/configs \
  -H "Content-Type: application/json" \
  -d '{
    "name": "test",
    "description": "æµ‹è¯•é…ç½®",
    "base_url": "https://api.claude.ai/v1",
    "api_key": "sk-xxx"
  }'
```

---

## â“ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

```bash
# ä½¿ç”¨å…¶ä»–ç«¯å£
qcc web start --port 3000
```

### 2. ä¾èµ–ç¼ºå¤±

Web å‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–,å¦‚æœå¤±è´¥å¯æ‰‹åŠ¨å®‰è£…:

```bash
pip install fastapi uvicorn[standard]
```

### 3. å‰ç«¯æ„å»ºå¤±è´¥

```bash
# æ¸…ç†å¹¶é‡æ–°å®‰è£…
cd qcc-web
rm -rf node_modules package-lock.json
npm install
npm run build
```

### 4. API è·¨åŸŸé—®é¢˜

åç«¯å·²é…ç½® CORS å…è®¸æ‰€æœ‰æ¥æº,å¦‚æœä»æœ‰é—®é¢˜:

```python
# æ£€æŸ¥ fastcc/web/app.py ä¸­çš„ CORS é…ç½®
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # ç”Ÿäº§ç¯å¢ƒåº”é™åˆ¶å…·ä½“åŸŸå
    ...
)
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **ä½“éªŒæ ¸å¿ƒåŠŸèƒ½** - é…ç½®ç®¡ç†ã€ä»£ç†ç›‘æ§
2. **é˜…è¯»å¼€å‘è®¡åˆ’** - [å¼€å‘è®¡åˆ’.md](./å¼€å‘è®¡åˆ’.md)
3. **æŸ¥çœ‹å®ŒæˆæŠ¥å‘Š** - [å¼€å‘å®ŒæˆæŠ¥å‘Š.md](./å¼€å‘å®ŒæˆæŠ¥å‘Š.md)
4. **å‚ä¸å¼€å‘** - è´¡çŒ®ä»£ç å®ç°æ›´å¤šåŠŸèƒ½

---

## ğŸ“ è·å–å¸®åŠ©

- **æ–‡æ¡£**: [docs/tasks/web-ui/](.)
- **API æ–‡æ¡£**: http://127.0.0.1:8080/api/docs
- **é¡¹ç›®ä¸»é¡µ**: [README.md](../../README.md)

---

*æœ€åæ›´æ–°: 2025-10-17*
